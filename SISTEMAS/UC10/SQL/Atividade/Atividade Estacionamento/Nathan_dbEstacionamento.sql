DROP DATABASE ESTACIONAMENTO;
CREATE DATABASE ESTACIONAMENTO;
USE ESTACIONAMENTO;

CREATE TABLE CARROS (
CODIGO INT NOT NULL AUTO_INCREMENT,
PLACA VARCHAR(7) NOT NULL,
COR VARCHAR(20),
MODELO VARCHAR(30),
ANO CHAR(4),
DATA_ENTRADA DATE NOT NULL,
HORA_ENTRADA TIME NOT NULL,
DATA_SAIDA DATE,
HORA_SAIDA TIME,

-- CONSTRAINT PK_CARROS_CODIGO PRIMARY KEY (CODIGO),
-- CONSTRAINT UQ_CARROS_PLACA UNIQUE (PLACA)
PRIMARY KEY (CODIGO),
UNIQUE (PLACA)
);

-- INSERINDO 10 VALORES
INSERT INTO CARROS (PLACA, COR, MODELO, ANO, DATA_ENTRADA, HORA_ENTRADA, DATA_SAIDA, HORA_SAIDA) VALUES
('AAA0A00', 'VERMELHO', 'CHEVROLET ONIX', '2008', '2022/11/08', '18:45:27', '2022/11/11', '07:46:23'),
('BBB1B11', 'VINHO', 'CHEVROLET CAMARO', '2019', '2022/11/10', '18:53:10', '2022/11/11', '07:23:05'),
('CCC2C22', 'AMARELO', 'HYUNDAI HB20 ', '2015', '2022/11/09', '20:59:23', '2022/11/11', '10:25:26'),
('DDD3D33', 'PRETO', 'FIAT MOBI', '2016', '2022/11/08', '21:14:32', '2022/11/11', '09:05:32'),
('EEE4E44', 'AZUL', 'CHEVROLET ONIX PLUX', '2017', '2022/11/09', '21:35:09', '2022/11/11', '06:21:30'),
('FFF5F55', 'CINZA', 'VOLKSWAGEN GOL', '2018', '2022/11/10', '22:03:56', '', ''),
('GGG6G66', 'PRATA', 'RENAULT KWID', '2019', '2022/11/10', '22:44:12', '', ''),
('HHH7H77', 'VINHO', 'FIAT ARGO', '2020', '2022/11/08', '23:12:49', '', ''),
('III8I88', 'AZUL-ESCURO', 'FIAT CRONOS', '2021', '2022/11/10', '23:35:00', '', ''),
('JJJ9J99', 'VERMELHO', 'HYUNDAI HB20', '2022', '2022/11/09', '23:48:24', '', '');

-- EXIBIR VALORES
SELECT * FROM CARROS;

-- ALTERAR 5 REGISTOS
UPDATE CARROS SET DATA_SAIDA = '2022/11/11', HORA_SAIDA = '08:13:15' WHERE CODIGO =  6;
UPDATE CARROS SET DATA_SAIDA = '2022/11/11', HORA_SAIDA = '09:23:16' WHERE CODIGO =  7;
UPDATE CARROS SET DATA_SAIDA = '2022/11/11', HORA_SAIDA = '10:33:17' WHERE CODIGO =  8;
UPDATE CARROS SET DATA_SAIDA = '2022/11/11', HORA_SAIDA = '11:43:18' WHERE CODIGO =  9;
UPDATE CARROS SET DATA_SAIDA = '2022/11/11', HORA_SAIDA = '12:53:19' WHERE CODIGO = 10;

-- APAGAR 3 REGISTROS
DELETE FROM CARROS WHERE CODIGO = 7;
DELETE FROM CARROS WHERE CODIGO = 8;
DELETE FROM CARROS WHERE CODIGO = 9;

-- PESQUISAR POR NOME
SELECT * FROM CARROS WHERE MODELO LIKE 'CHEVROLET%';
SELECT * FROM CARROS WHERE MODELO LIKE 'FIAT%';
SELECT * FROM CARROS WHERE ANO = '2019';

-- PESQUISAR POR CODIGO
SELECT * FROM CARROS WHERE CODIGO = 3;
SELECT * FROM CARROS WHERE CODIGO = 2;
SELECT * FROM CARROS WHERE CODIGO = 1;

-- PESQUISAR POR DATA DE ENTRADA
SELECT * FROM CARROS WHERE DATA_ENTRADA = '2022/11/10';
SELECT * FROM CARROS WHERE DATA_ENTRADA = '2022/11/08';
SELECT * FROM CARROS WHERE DATA_ENTRADA = '2022/11/09';

-- PESQUISAR PELA COR
SELECT * FROM CARROS WHERE COR = 'VINHO';
SELECT * FROM CARROS WHERE COR = 'PRETO';
SELECT * FROM CARROS WHERE COR LIKE '%AZUL%';

-- PESQUISAR POR MODELO
SELECT * FROM CARROS WHERE MODELO LIKE '%ONIX%';
SELECT * FROM CARROS WHERE MODELO LIKE '%HB20%';
SELECT * FROM CARROS WHERE MODELO LIKE '%HYUNDAI%';
